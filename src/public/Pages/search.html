<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Boo - Book Reviewer</title>
    <link rel="stylesheet" href="../Styling/search.css">
    <link rel="stylesheet" href="../Styling/sidebar.css">
    <script src="../JavaScript/components.js"></script>
    <script src="../JavaScript/search.js"></script>
    <script src="../JavaScript/req_wrapper_jwt.js"></script> 
</head>
<body>
    <div class="sidebar-padded">
        <div class="list">
            <div class="list__search">
                <img class="list__search__icon" src="../Resources/Svg/search.svg">
                <input id="search" class="list__search__input" placeholder="Search...">
            </div>
            <p class="list__alternative">Search by category</p>
            <div class="list__categories">
                
            </div>
    </div>
</div>

<script>
    createSidebar(2);

    [|categories|]

    const input = document.getElementById("search");
    input.addEventListener('input', function (evt) {
        filterCategories();
    });

    const list = document.getElementsByClassName("list__categories")[0];
    categories.forEach(x => list.innerHTML += x);

    function filterCategories()
    {
        let newHTML = "";
        categories.forEach(x => {
            if(x.toLowerCase().indexOf(input.value.toLowerCase()) !== -1)
                newHTML += x;
        });
        list.innerHTML = newHTML;
    }
    
    document.addEventListener('DOMContentLoaded', function() {
    handleNavigation();
    });
</script>
</body>
</html>