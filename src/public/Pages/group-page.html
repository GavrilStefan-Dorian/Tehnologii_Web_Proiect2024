<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Group Page</title>
  <link rel="stylesheet" href="../Styling/group-page.css">
  <link rel="stylesheet" href="../Styling/sidebar.css">
  <script src="../JavaScript/components.js"></script>
  <script src="../JavaScript/books.js"></script>
  <script src="../JavaScript/groups.js"></script>
  <!-- <script src="../JavaScript/req_wrapper_jwt.js"></script>  -->
  <link rel="stylesheet" href="../Styling/books.css">
</head>
<body>
  <div class="group-info-wrapper">
    <div class="group-info-wrapper__overlay"></div>
    <div class="group-info">
      <h1 class="group-info__name" id="group-name">Group</h1>
      <p class="group-info__description" id="group-description">Group description</p>
    </div>
  </div>
  
  <div class="content-wrapper">
    <div class="group-sections">
      <div class="group-section">
        <h2 class="group-section__title">To Read</h2>
        <div class="group-section__items" id="to-read-section"></div>
      </div>
      <div class="group-section">
        <h2 class="group-section__title">Reading</h2>
        <div class="group-section__items" id="reading-section"></div>
      </div>
      <div class="group-section">
        <h2 class="group-section__title">Finished</h2>
        <div class="group-section__items" id="finished-section"></div>
      </div>
    </div>
    <div class = "user-statuses">

    </div>
  </div>

  <div class="members-sidebar" id="members-sidebar">
    <div class="members-header">
      <h3 class="members-header__title">Members</h3>
      <!-- <button class="members-header__invite-btn">Invite</button> -->
    </div>
  </div>
  
  <script>
    [|user|]
    createSidebar(5, user);
    </script>

<script src="../JavaScript/script.js"></script>
<script>
  function loadGroupData() {
    [|group|]

    const groupName = group[1];
    const imageSrc = group[4];
    const desc = group[2];

    if (groupName) {
      document.querySelector('.group-info-wrapper__overlay').style.backgroundImage = `url(${imageSrc})`;
      document.getElementById('group-name').textContent = decodeURIComponent(groupName);
      document.getElementById('group-description').textContent = decodeURIComponent(desc);


    [|toReadBooks|]
    [|readingBooks|]
    [|finishedBooks|]
    
    // Populate 'To Read' section
    const toReadSection = document.getElementById("to-read-section");
    toReadBooks.forEach(book => {
      toReadSection.innerHTML += book;
    });
    
    // Populate 'Reading' section
    const readingSection = document.getElementById("reading-section");
    readingBooks.forEach(book => {
      readingSection.innerHTML += book;
    });
    
    // Populate 'Finished' section
    const finishedSection = document.getElementById("finished-section");
    finishedBooks.forEach(book => {
      finishedSection.innerHTML += book;
    });


    // const members = [
    //   createMember("Brosky"),
    // ];
    [|members|]

    const membersSidebar = document.getElementById("members-sidebar");
    members.forEach(member => {
      membersSidebar.innerHTML += member;
    })


    [|toReadUsers|]
    [|readingUsers|]
    [|finishedUsers|]

    // Populate 'To Read' section
    const toReadUserStatus = document.getElementById("to-read-section");
    toReadUsers.forEach(book => {
      // toReadUserStatus.innerHTML += book;
    });
    
    // Populate 'Reading' section
    const readingUserStatus = document.getElementById("reading-section");
    readingUsers.forEach(book => {
      // readingUserStatus.innerHTML.getElementById(book.book_id) += book;
    });
    
    // Populate 'Finished' section
    const finishedUserStatus = document.getElementById("finished-section");
    finishedUsers.forEach(book => {
      // finishedUserStatusinnerHTML += book;
    });
  }
}

loadGroupData();
  </script>
</body>
</html>
