<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Group Page</title>
  <link rel="stylesheet" href="../Styling/group-page.css">
  <link rel="stylesheet" href="../Styling/sidebar.css">
  <script src="../JavaScript/components.js"></script>
  <script src="../JavaScript/books.js"></script>
  <script src="../../scripts/auth.js"></script>
  <link rel="stylesheet" href="../Styling/books.css">
</head>
<body>
  <div class="group-info-wrapper">
    <div class="group-info-wrapper__overlay"></div>
    <div class="group-info">
      <h1 class="group-info__name" id="group-name">Group</h1>
      <p class="group-info__description" id="group-description">Group description</p>
    </div>
  </div>

  <div class="content">
    <div class="group-sections">
      <div class="group-section">
        <h2 class="group-section__title">To Read</h2>
        <div class="group-section__items" id="to-read-section"></div>
      </div>
      <div class="group-section">
        <h2 class="group-section__title">Reading</h2>
        <div class="group-section__items" id="reading-section"></div>
      </div>
      <div class="group-section">
        <h2 class="group-section__title">Finished</h2>
        <div class="group-section__items" id="finished-section"></div>
      </div>
    </div>
  </div>

  <div class="members-sidebar">
    <div class="members-header">
      <h3 class="members-header__title">Members</h3>
      <button class="members-header__invite-btn">Invite</button>
    </div>
    <div class="member">
      <img src="../Resources/Images/Profile.png" alt="Avatar" class="member__avatar">
      <p class="member__name">User 1</p>
    </div>
    <div class="member">
      <img src="../Resources/Images/Profile.png" alt="Avatar" class="member__avatar">
      <p class="member__name">User 2</p>
    </div>
    <div class="member">
      <img src="../Resources/Images/Profile.png" alt="Avatar" class="member__avatar">
      <p class="member__name">User 3</p>
    </div>
  </div>

  <script>
    createSidebar(3);
  </script>

  <script src="../JavaScript/script.js"></script>
  <script>
function loadGroupData() {
  const urlParams = new URLSearchParams(window.location.search);
  const groupName = urlParams.get('group');
  const imageSrc = urlParams.get('img');
  const desc = urlParams.get('desc');
  if (groupName) {
    document.querySelector('.group-info-wrapper__overlay').style.backgroundImage = `url(${imageSrc})`;
    document.getElementById('group-name').textContent = decodeURIComponent(groupName);
    document.getElementById('group-description').textContent = decodeURIComponent(desc);

    // Simulated book data for demonstration
    const toReadBooks = [
      createBook("Atomic Habits", "James Clear", "../Resources/Images/Book.png", "4.08", "123,493"),
      createBook("Atomic Habits", "James Clear", "../Resources/Images/Book.png", "4.08", "123,493"),
    ];
    const readingBooks = [
      createBook("Atomic Habits", "James Clear", "../Resources/Images/Book.png", "4.08", "123,493"),
    ];
    const finishedBooks = [
      createBook("Atomic Habits", "James Clear", "../Resources/Images/Book.png", "4.08", "123,493"),
    ];

    // Populate 'To Read' section
    const toReadSection = document.getElementById("to-read-section");
    toReadBooks.forEach(book => {
      toReadSection.innerHTML += book;
    });

    // Populate 'Reading' section
    const readingSection = document.getElementById("reading-section");
    readingBooks.forEach(book => {
      readingSection.innerHTML += book;
    });

    // Populate 'Finished' section
    const finishedSection = document.getElementById("finished-section");
    finishedBooks.forEach(book => {
      finishedSection.innerHTML += book;
    });
  }
}

loadGroupData();

  </script>
</body>
</html>
